{"version":3,"file":"js/957.af9adf41.js","mappings":"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","sources":["webpack://front/./src/rest/image.js","webpack://front/./src/views/Setting/components/SettingProfile.vue","webpack://front/./src/views/Setting/components/SettingProfile.vue?f157"],"sourcesContent":["import jwt from '@/util/common/jwt';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  // add thumbnail\r\n  addThumbnail: function (room_num, formdata) {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post(\r\n          process.env.VUE_APP_SERVER + '/room/Thumbnail/' + room_num,\r\n          formdata,\r\n          {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data',\r\n              'access-token': jwt.getAccessToken(),\r\n            },\r\n          }\r\n        )\r\n        .then((response) => {\r\n          if (response.data === 'success') {\r\n            resolve(true);\r\n          } else {\r\n            reject('방 섬네일 업로드 중 문제가 발생하였습니다');\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n\r\n  // add profile image\r\n  addProfileImage: function (user_id, formdata) {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .post(\r\n          process.env.VUE_APP_SERVER + '/user/profile/' + user_id,\r\n          formdata,\r\n          {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data',\r\n              'access-token': jwt.getAccessToken(),\r\n            },\r\n          }\r\n        )\r\n        .then((response) => {\r\n          if (response.data === 'success') {\r\n            resolve(true);\r\n          } else {\r\n            reject('프로필 사진 설정 중 문제가 발생하였습니다');\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          reject(error);\r\n        });\r\n    });\r\n  },\r\n};\r\n","<template>\r\n  <div class=\"d-flex justify-content-center\">\r\n    <b-card class=\"mt-4 w-50\" :class=\"[$root.theme ? ' ' : 'custom-dark']\">\r\n      <div class=\"d-flex flex-column\">\r\n        <h4 class=\"m-2\">내 프로필 관리</h4>\r\n        <hr class=\"my-3 me-4\">\r\n        <div class=\"d-flex flex-fill align-items-end mb-3 overflow-hidden\">\r\n          <b-avatar :src=\"`${server_link}/showImg/profile/number/${user.userNum}?t=${new Date().getTime()}`\" size=\"6em\">\r\n          </b-avatar>\r\n          <b-button class=\"border border-2 rounded-circle px-2\"\r\n            variant=\"light\"\r\n            style=\"position:absolute; left:5.2em;\"\r\n            @click=\"uploadProfileImg(user.userId)\">\r\n            <h6 class=\"m-0\"><i class=\"bi bi-camera-fill\"></i></h6>\r\n          </b-button>\r\n          <div class=\"d-flex flex-column flex-fill\">\r\n            <div class=\"d-flex justify-content-between\" style=\"font-size:0.8em; vertical-align: middle;\"> \r\n              <label for=\"userId\" class=\"ms-4\">닉네임</label>\r\n              <b-button class=\"me-4\" pill size=\"sm\"\r\n                style=\"font-size:1em; position:absolute; right:1.4em; top:11em;\"\r\n                @click=\"nicknameDuplCheck(user.userNickname)\"\r\n                :disabled=\"isDuplChecked\">중복체크</b-button>\r\n            </div>\r\n            <b-form-input\r\n              class=\"flex-grow-1 border border-3 border-top-0 border-end-0 border-start-0 mb-2 mx-4\"\r\n              v-model=\"user.userNickname\"\r\n              @keyup.enter=\"nicknameDuplCheck(user.userNickname)\"\r\n              style=\"font-size:1.3em; width:auto\"\r\n            >\r\n            </b-form-input>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"d-flex flex-column flex-fill mt-4\">\r\n          <label for=\"userId\" class=\"ms-4\" style=\"font-size:0.8em;\">아이디</label>\r\n          <input id=\"userId\" class=\"flex-grow-1 border border-3 border-top-0 border-end-0 border-start-0 mb-2 mx-4\"\r\n            v-model=\"user.userId\"\r\n            style=\"font-size:1.3em;\" disabled/>\r\n        </div>\r\n        <div class=\"d-flex flex-column flex-fill mt-4\">\r\n          <label for=\"userId\" class=\"ms-4\" style=\"font-size:0.8em;\">비밀번호</label>\r\n          <b-form-input id=\"userId\" class=\"flex-grow-1 border border-3 border-top-0 border-end-0 border-start-0 mb-2 mx-4\"\r\n            v-model=\"password\"\r\n            placeholder=\"변경할 비밀번호\"\r\n            :state=\"validation.userPw\"\r\n            style=\"font-size:1.3em; width:auto\"/>\r\n          <b-form-invalid-feedback class=\"ms-4\" :state=\"validation.userPw\">\r\n            비밀번호는 4-20글자 사이 영어, 숫자여야 해요\r\n          </b-form-invalid-feedback>\r\n        </div>\r\n        \r\n\r\n        <div class=\"d-flex flex-column flex-fill mt-3\">\r\n          <label for=\"userEmail\" class=\"ms-4\" style=\"font-size:0.8em;\">이메일</label>\r\n          <input id=\"userEmail\" class=\"flex-grow-1 border border-3 border-top-0 border-end-0 border-start-0 mb-2 mx-4\"\r\n            v-model=\"user.userEmail\"\r\n            style=\"font-size:1.3em;\" disabled/>\r\n        </div>\r\n\r\n        <div class=\"d-flex flex-column flex-fill mt-3\">\r\n          <label for=\"userPw\" class=\"ms-4\" style=\"font-size:0.8em;\">내 관심 태그</label>\r\n          <b-form-tags\r\n              input-id=\"userPw\"\r\n              class=\"flex-grow-1 border border-3 border-top-0 border-end-0 border-start-0 mx-4\"\r\n              separator=\" ,;\"\r\n              v-model=\"hashtags\"\r\n              :state=\"validation.hashTag\"\r\n              placeholder=\"관심 태그\"\r\n              duplicateTagText=\"중복된 태그가 있어요 \"\r\n              tagVariant=\"success\"\r\n              remove-on-delete\r\n              style=\"font-size:1.3em; width:auto;\"\r\n            >\r\n          </b-form-tags>\r\n          <b-form-invalid-feedback class=\"ms-4\" :state=\"validation.hashTag\">\r\n            방 태그는 최대 3개까지 지정할 수 있어요\r\n          </b-form-invalid-feedback>\r\n        </div>\r\n\r\n        <div class=\"d-flex flex-column flex-fill mt-3\">\r\n          <label for=\"userIntroduce\" class=\"ms-4\" style=\"font-size:0.8em;\">내 소개</label>\r\n          <textarea id=\"userIntrodution\" class=\"flex-grow-1 border border-3 border-top-0 border-end-0 border-start-0 mb-2 mx-4\"\r\n            v-model=\"user.profileSelfIntroduce\"\r\n            style=\"font-size:1.3em; resize: none;\" maxlength=\"50\"/>\r\n        </div>\r\n\r\n        <div class=\"d-flex justify-content-between mt-3 mb-2\">\r\n          <b-button class=\"ms-4\" variant=\"success\" :disabled=\"!validation.isAllOk\" @click=\"saveChange()\">저장</b-button>\r\n          <b-button class=\"me-4\" variant=\"danger\" @click=\"quit(user.userId)\">회원 탈퇴</b-button>\r\n        </div>\r\n      </div>\r\n    </b-card>\r\n  </div>  \r\n</template>\r\n\r\n<script>\r\nimport {  onBeforeMount, ref, computed, reactive } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router'\r\nimport Swal from 'sweetalert2';\r\nimport rest_user from '@/rest/user';\r\nimport rest_img from '@/rest/image';\r\n\r\nexport default {\r\n  setup() {\r\n    const store = useStore();\r\n    const router = useRouter();\r\n\r\n    // ----------------------- input validation -------------------------- //\r\n    let hashtags = ref([]);\r\n    let password = ref(\"\");\r\n\r\n    // for nickname change\r\n    let prev_userNickname = ref('');\r\n    let isDuplChecked = computed({\r\n      get(){\r\n        return prev_userNickname.value === user.value.userNickname;\r\n      },\r\n      set(val) {\r\n        isDuplChecked.value = val;\r\n      }\r\n    });\r\n\r\n    async function nicknameDuplCheck(user_nickname) {\r\n      user_nickname = user_nickname.trim();\r\n      try {\r\n        if(user_nickname.length < 1 || user_nickname.length > 20) {\r\n          throw '닉네임이 형식에 맞지 않습니다\\n(1 - 20글자)';\r\n        }\r\n\r\n        // request to server\r\n        await rest_user.checkNicknameDuplicated(user_nickname);\r\n        prev_userNickname.value = user.value.userNickname;\r\n\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: '사용가능한 닉네임입니다',\r\n          timer: 2200,\r\n        });\r\n      } catch(error) {\r\n        Swal.fire({\r\n          icon: 'warning',\r\n          title: error,\r\n          timer: 2200,\r\n        });\r\n      }\r\n    }\r\n\r\n    const validation = reactive({\r\n      userPw: computed(() => {\r\n        return password.value == \"\"\r\n            ? null\r\n            : new RegExp(/^[a-zA-Z0-9]{4,20}$/).test(password.value);\r\n      }), \r\n\r\n      hashTag: computed(() => {\r\n        return hashtags.value.length <= 3 ? null : false;\r\n      }),\r\n\r\n      isAllOk : computed(()=> {\r\n        if(validation.userPw == false || validation.hashTag == false || !isDuplChecked.value) return false;\r\n        return true;\r\n      })\r\n    });\r\n\r\n    let user = ref({ userNum : -1 });\r\n    onBeforeMount(async ()=> {\r\n      try {\r\n        // get profile from server\r\n        user.value = await rest_user.getProfile(store.getters.getUserID);\r\n        prev_userNickname.value = user.value.userNickname;\r\n\r\n        // get hashtag list from server\r\n        hashtags.value = await rest_user.getHashTags(user.value.userId);\r\n      } catch(error) {\r\n        Swal.fire({\r\n          icon: 'warning',\r\n          title: error,\r\n          timer: 2200,\r\n        });\r\n      }\r\n    })\r\n\r\n    // --------------------- request modify to server ------------------------ //\r\n    async function saveChange() {\r\n      try {\r\n        await rest_user.addUserHashTags(user.value.userId, hashtags.value);\r\n        \r\n        if(password.value) user.value.userPw = password.value;\r\n        await rest_user.modifyProfile(user.value);\r\n\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: '회원정보 수정 완료',\r\n          timer: 2200,\r\n        });\r\n      } catch(error) {\r\n        Swal.fire({\r\n          icon: 'warning',\r\n          title: error,\r\n          timer: 2200,\r\n        });\r\n      }\r\n    }\r\n\r\n    async function quit(user_id) {\r\n      try {\r\n        await rest_user.quitAccount(user_id);\r\n\r\n        await Swal.fire({\r\n          icon: 'success',\r\n          title: '회원탈퇴 완료',\r\n          timer: 2200,\r\n        });\r\n\r\n        await store.dispatch('logout');\r\n        router.replace('/home');\r\n      } catch(error) {\r\n        Swal.fire({\r\n          icon: 'warning',\r\n          title: error,\r\n          timer: 2200,\r\n        });\r\n      }\r\n    }\r\n\r\n    // ---------------------- for profile image ---------------------- //\r\n    const server_link = ref(process.env.VUE_APP_SERVER);\r\n\r\n    function uploadProfileImg(user_id) {\r\n      let imageInput = document.createElement('input');\r\n      imageInput.type = 'file';\r\n      imageInput.accept = 'image/png, image/jpeg';\r\n\r\n      // emit event\r\n      imageInput.click();\r\n      imageInput.onchange = async (event) => {\r\n        const target = event.target;\r\n        if (target.files && target.files[0]) {\r\n          // Max file size is 5MB\r\n          const maxAllowedSize = 5 * 1024 * 1024;\r\n          if (target.files[0].size > maxAllowedSize) {\r\n            Swal.fire({\r\n              icon: 'warning',\r\n              title: '파일의 최대 크기는 5MB 입니다',\r\n            });\r\n            target.value = '';\r\n          }\r\n\r\n          // check file type\r\n          let fileName = target.files[0].name;\r\n          let fileDot = fileName.lastIndexOf('.');\r\n          let fileType = fileName\r\n            .substring(fileDot + 1, fileName.length)\r\n            .toLowerCase();\r\n\r\n          if (fileType !== 'png' && fileType !== 'jpg') {\r\n            Swal.fire({\r\n              icon: 'warning',\r\n              title: '지원하지 않는 확장자입니다',\r\n            });\r\n            target.value = '';\r\n            return;\r\n          }\r\n\r\n          // request server\r\n          const formData = new FormData();\r\n          formData.append('pic', target.files[0]);\r\n          try {\r\n            await rest_img.addProfileImage(user_id, formData);\r\n          } catch(error) {\r\n            Swal.fire({\r\n              icon: 'warning',\r\n              title: error,\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return {\r\n      server_link,\r\n      user,\r\n\r\n      hashtags,\r\n      password,\r\n      validation,\r\n      isDuplChecked,\r\n      prev_userNickname,\r\n\r\n      saveChange,\r\n      quit,\r\n      uploadProfileImg,\r\n      nicknameDuplCheck,\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\ninput, textarea {\r\n  font-family: 'Nanum Gothic', sans-serif !important;\r\n}\r\n\r\ninput:focus {\r\n  outline: none;\r\n}\r\n\r\ninput:disabled {\r\n  background: none;\r\n}\r\n\r\n/* disable tags add button */\r\n.b-form-tags-button {\r\n  visibility: hidden !important;\r\n}\r\n.custom-dark {\r\n  background-color: #404040;\r\n  border-color: white;\r\n}\r\n</style>","import { render } from \"./SettingProfile.vue?vue&type=template&id=83b96dea\"\nimport script from \"./SettingProfile.vue?vue&type=script&lang=js\"\nexport * from \"./SettingProfile.vue?vue&type=script&lang=js\"\n\nimport \"./SettingProfile.vue?vue&type=style&index=0&id=83b96dea&lang=css\"\n\nimport exportComponent from \"C:\\\\SSAFY\\\\workspace\\\\common_proj\\\\S07P12B310\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["addThumbnail","room_num","formdata","Promise","resolve","reject","axios","process","headers","jwt","then","response","data","catch","error","addProfileImage","user_id","class","_createElementVNode","style","for","_createElementBlock","_createVNode","_component_b_card","_ctx","theme","_hoisted_3","_hoisted_4","_component_b_avatar","src","$setup","userNum","Date","getTime","size","_component_b_button","variant","onClick","userId","_hoisted_6","_hoisted_9","pill","userNickname","disabled","_component_b_form_input","$event","onKeyup","_hoisted_12","id","_hoisted_14","placeholder","state","userPw","_component_b_form_invalid_feedback","_hoisted_17","userEmail","_hoisted_19","_component_b_form_tags","separator","hashTag","duplicateTagText","tagVariant","_hoisted_22","profileSelfIntroduce","maxlength","isAllOk","setup","store","useStore","router","useRouter","hashtags","ref","password","prev_userNickname","isDuplChecked","computed","get","value","user","set","val","async","nicknameDuplCheck","user_nickname","trim","length","rest_user","Swal","icon","title","timer","validation","reactive","RegExp","test","saveChange","quit","dispatch","replace","onBeforeMount","getters","getUserID","server_link","uploadProfileImg","imageInput","document","createElement","type","accept","click","onchange","target","event","files","maxAllowedSize","fileName","name","fileDot","lastIndexOf","fileType","substring","toLowerCase","formData","FormData","append","rest_img","__exports__","render"],"sourceRoot":""}